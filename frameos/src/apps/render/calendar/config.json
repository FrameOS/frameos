{
  "name": "Calendar",
  "description": "Render a monthly calendar with events",
  "category": "render",
  "version": "1.3.0",
  "fields": [
    {
      "name": "inputImage",
      "type": "image",
      "value": "",
      "required": false,
      "label": "Background image"
    },
    {
      "name": "events",
      "type": "json",
      "required": false,
      "value": "[]",
      "label": "Events JSON"
    },
    {
      "name": "year",
      "type": "integer",
      "value": "0",
      "required": false,
      "label": "Year (0 = current)"
    },
    {
      "name": "month",
      "type": "integer",
      "value": "0",
      "required": false,
      "label": "Month (1–12; 0 = current)"
    },
    {
      "name": "startWeekOnMonday",
      "type": "boolean",
      "value": "true",
      "required": true,
      "label": "Week starts on Monday"
    },
    {
      "name": "scale",
      "type": "integer",
      "value": "100",
      "required": true,
      "label": "Scale (%) — scales fonts, paddings, strokes"
    },
    {
      "name": "theme",
      "type": "select",
      "options": [
        "light",
        "dark",
        "custom"
      ],
      "value": "light",
      "required": true,
      "label": "Calendar theme"
    },
    {
      "name": "transparentBackground",
      "type": "boolean",
      "value": false,
      "required": true,
      "label": "Transparent background"
    },
    {
      "name": "backgroundColor",
      "type": "color",
      "value": "#ffffff",
      "required": true,
      "label": "Overall background color",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "weekendBackgroundColor",
      "type": "color",
      "value": "#9eafd6",
      "required": true,
      "label": "Weekend day background color (Sat/Sun cells)",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "todayStrokeColor",
      "type": "color",
      "value": "#ff0000",
      "required": true,
      "label": "Today's cell outline color",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "todayBackgroundColor",
      "type": "color",
      "value": "#e5afaf",
      "required": true,
      "label": "Today's cell background color",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "todayStrokeWidth",
      "type": "float",
      "value": "2",
      "required": true,
      "label": "Today's cell outline thickness",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "dateTextColor",
      "type": "color",
      "value": "#000000",
      "required": true,
      "label": "Date number color",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "eventTimeColor",
      "type": "color",
      "value": "#333333",
      "required": true,
      "label": "Event time color",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "eventTitleColor",
      "type": "color",
      "value": "#333333",
      "required": true,
      "label": "Event title color",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "titleFont",
      "type": "font",
      "required": false,
      "label": "Title font (used for month & year)",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "titleFontSize",
      "type": "float",
      "value": "28",
      "required": true,
      "label": "Month & year title font size",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "titleTextColor",
      "type": "color",
      "value": "#000000",
      "required": true,
      "label": "Title text color",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "titleBackgroundColor",
      "type": "color",
      "value": "#ffffff",
      "required": true,
      "label": "Title background",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "weekdayFont",
      "type": "font",
      "required": false,
      "label": "Weekday font (used for weekday row)",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "weekdayFontSize",
      "type": "float",
      "value": "16",
      "required": true,
      "label": "Weekday row font size",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "weekdayTextColor",
      "type": "color",
      "value": "#000000",
      "required": true,
      "label": "Weekday text color",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "weekdayBackgroundColor",
      "type": "color",
      "value": "#ffffff",
      "required": true,
      "label": "Weekday background",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "dateFont",
      "type": "font",
      "required": false,
      "label": "Date number font",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "dateFontSize",
      "type": "float",
      "value": "18",
      "required": true,
      "label": "Date number font size",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "eventTitleFont",
      "type": "font",
      "required": false,
      "label": "Event title font",
      "value": "Ubuntu-Medium.ttf",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "eventTimeFont",
      "type": "font",
      "required": false,
      "label": "Event time font",
      "value": "Ubuntu-Light.ttf",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "eventFontSize",
      "type": "float",
      "value": "14",
      "required": true,
      "label": "Event font size",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "padding",
      "type": "integer",
      "value": "18",
      "required": true,
      "label": "Outer padding (px)",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "showMonthYear",
      "type": "boolean",
      "value": "true",
      "required": true,
      "label": "Show month & year title",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "monthYearPosition",
      "type": "select",
      "options": ["top", "bottom", "none"],
      "value": "top",
      "required": true,
      "label": "Title position (ignored if hidden)",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "showGrid",
      "type": "boolean",
      "value": "true",
      "required": true,
      "label": "Show grid lines",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "gridWidth",
      "type": "float",
      "value": "1",
      "required": true,
      "label": "Grid stroke width (px)",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "gridColor",
      "type": "color",
      "value": "#999999",
      "required": true,
      "label": "Grid line color",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "name": "showEventTimes",
      "type": "boolean",
      "value": "true",
      "required": true,
      "label": "Show times for non all-day events",
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "label": "All day event color count",
      "name": "eventColorCount",
      "value": "1",
      "type": "integer",
      "required": true,
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "label": "All day event background #{color}",
      "name": "eventColorBackground",
      "type": "color",
      "value": "#ffffff",
      "seq": [
        ["color", 1, "eventColorCount"]
      ],
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    },
    {
      "label": "All day event foreground #{color}",
      "name": "eventColorForeground",
      "type": "color",
      "value": "#000000",
      "seq": [
        ["color", 1, "eventColorCount"]
      ],
      "showIf": [
        {
          "field": "theme",
          "operator": "eq",
          "value": "custom"
        }
      ]
    }
  ],
  "output": [
    {
      "name": "image",
      "type": "image"
    }
  ]
}

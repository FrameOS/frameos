Source adapted from https://github.com/luked99/libevdev.nim which was 8 years old at the time of writing.